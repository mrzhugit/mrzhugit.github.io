<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>mr.zhu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="mr.zhu">
<meta property="og:url" content="http://mrzhugit.github.io/index.html">
<meta property="og:site_name" content="mr.zhu">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mr.zhu">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="mr.zhu" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">mr.zhu</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">JAVA 工程师</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://mrzhugit.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-zookeeper-use" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/02/22/zookeeper-use/" class="article-date">
  <time datetime="2016-02-22T15:05:27.000Z" itemprop="datePublished">2016-02-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/22/zookeeper-use/">zookeeper在项目中的使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>zookeeper 提供分布式的锁服务,是一个分布式系统中的协调者角色.<br>在这里介绍下zookeeper的集中常用情景,使用curator框架来调用zookeeper实现.</p>
<h3 id="u573A_u666F_u4E00_3A_28barrier_29_slaver_u7B49_u5F85master_u53D1_u9001_u4FE1_u53F7_u6267_u884C_u4EFB_u52A1"><a href="#u573A_u666F_u4E00_3A_28barrier_29_slaver_u7B49_u5F85master_u53D1_u9001_u4FE1_u53F7_u6267_u884C_u4EFB_u52A1" class="headerlink" title="场景一:(barrier) slaver等待master发送信号执行任务"></a>场景一:(barrier) slaver等待master发送信号执行任务</h3><p>slaver:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 等待领导发送指示再干活</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Worker</span> </span>&#123;</span><br><span class="line">    <span class="comment">//协调节点</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/barrier"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String zkUrl = <span class="string">"localhost:2181"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        CuratorFramework client = CuratorFrameworkFactory.newClient(zkUrl, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            client.start();</span><br><span class="line">            DistributedBarrier barrier = <span class="keyword">new</span> DistributedBarrier(client, PATH);</span><br><span class="line">            barrier.setBarrier();</span><br><span class="line">            System.out.println(<span class="string">"等待master信号"</span>);</span><br><span class="line">            barrier.waitOnBarrier();</span><br><span class="line">            System.out.println(<span class="string">"开始执行任务"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            CloseableUtils.closeQuietly(client);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>master:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 领导人发话后,下面工人开始干活</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Master</span> </span>&#123;</span><br><span class="line">    <span class="comment">//协调节点</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/barrier"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String zkUrl = <span class="string">"localhost:2181"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        CuratorFramework client = CuratorFrameworkFactory.newClient(zkUrl, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            client.start();</span><br><span class="line">            DistributedBarrier barrier = <span class="keyword">new</span> DistributedBarrier(client, PATH);</span><br><span class="line">            barrier.setBarrier();</span><br><span class="line">            System.out.println(<span class="string">"发送信号"</span>);</span><br><span class="line">            barrier.removeBarrier();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            CloseableUtils.closeQuietly(client);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="u573A_u666F_u4E8C_3A_28double_barrier_29_u591A_u8282_u70B9_u90FD_u5C31_u7EEA_u540E_u5F00_u59CB_u5DE5_u4F5C"><a href="#u573A_u666F_u4E8C_3A_28double_barrier_29_u591A_u8282_u70B9_u90FD_u5C31_u7EEA_u540E_u5F00_u59CB_u5DE5_u4F5C" class="headerlink" title="场景二:(double barrier)多节点都就绪后开始工作"></a>场景二:(double barrier)多节点都就绪后开始工作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 3个进程一起开始,一起结束</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Worker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/barrier"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> workCount = <span class="number">3</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        CuratorFramework client = CuratorFrameworkFactory.newClient(<span class="string">"localhost:2181"</span>, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            client.start();</span><br><span class="line">            DistributedDoubleBarrier barrier = <span class="keyword">new</span> DistributedDoubleBarrier(client, PATH,workCount);</span><br><span class="line">            System.out.println(<span class="string">"等待全部就绪"</span>);</span><br><span class="line">            barrier.enter();</span><br><span class="line">            System.out.println(<span class="string">"全部就绪,开始执行任务"</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span> * (<span class="keyword">new</span> Random().nextInt(<span class="number">10</span>)));</span><br><span class="line">            System.out.println(<span class="string">"执行完毕,等待全部完毕"</span>);</span><br><span class="line">            barrier.leave();</span><br><span class="line">            System.out.println(<span class="string">"全部完毕"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            CloseableUtils.closeQuietly(client);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="u5E94_u7528_u573A_u666F_u4E09_3A_28leader_selector_29__u591A_u8FDB_u7A0B_u95F4_u4E3B_u8282_u70B9_u9009_u4E3E_2C_u89C4_u907F_u7A0B_u5E8F_u5355_u70B9_u6545_u969C"><a href="#u5E94_u7528_u573A_u666F_u4E09_3A_28leader_selector_29__u591A_u8FDB_u7A0B_u95F4_u4E3B_u8282_u70B9_u9009_u4E3E_2C_u89C4_u907F_u7A0B_u5E8F_u5355_u70B9_u6545_u969C" class="headerlink" title="应用场景三:(leader selector) 多进程间主节点选举,规避程序单点故障"></a>应用场景三:(leader selector) 多进程间主节点选举,规避程序单点故障</h3><p>client负责链接zookeeper监控node节点变化:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleClient</span> <span class="keyword">extends</span> <span class="title">LeaderSelectorListenerAdapter</span> <span class="keyword">implements</span> <span class="title">Closeable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> LeaderSelector leaderSelector;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AtomicInteger leaderCount = <span class="keyword">new</span> AtomicInteger();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExampleClient</span><span class="params">(CuratorFramework client, String path, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        leaderSelector = <span class="keyword">new</span> LeaderSelector(client, path, <span class="keyword">this</span>);</span><br><span class="line">        leaderSelector.autoRequeue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        leaderSelector.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        leaderSelector.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">takeLeadership</span><span class="params">(CuratorFramework client)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">" 现在是组织者. "</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (; <span class="keyword">true</span>; ) &#123;</span><br><span class="line">                System.out.println(<span class="string">"会议组织中"</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span> * <span class="number">10</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.err.println(<span class="string">"异常情况出现,会议组织中断"</span>);</span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(name + <span class="string">" 分享会结束.\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>主逻辑类:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 主节点选举示例</span><br><span class="line"> * 多进程仅有一个为主节点.其余进程为备用节点.</span><br><span class="line"> * 主节点关闭后备用节点中会选举出另外一个作为主节点.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * 在候选人的控制台回车后开始中断</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LeaderSelectorExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/leader"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String userName = String.valueOf(<span class="keyword">new</span> Random().nextInt(<span class="number">1000</span>));</span><br><span class="line">        System.out.println(<span class="string">"候选人:"</span> + userName);</span><br><span class="line">        System.out.println(<span class="string">"输入回车开始调休\n"</span>);</span><br><span class="line">        CuratorFramework client = <span class="keyword">null</span>;</span><br><span class="line">        ExampleClient example = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            client = CuratorFrameworkFactory.newClient(<span class="string">"127.0.0.1:2181"</span>, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line">            example = <span class="keyword">new</span> ExampleClient(client, PATH, userName);</span><br><span class="line">            client.start();</span><br><span class="line">            example.start();</span><br><span class="line">            <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in)).readLine();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"回家..."</span>);</span><br><span class="line">            CloseableUtils.closeQuietly(example);</span><br><span class="line">            CloseableUtils.closeQuietly(client);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="u573A_u666F_u56DB_3A_u591A_u7A0B_u5E8F_u95F4_u7684_u91CD_u5165_u9501"><a href="#u573A_u666F_u56DB_3A_u591A_u7A0B_u5E8F_u95F4_u7684_u91CD_u5165_u9501" class="headerlink" title="场景四:多程序间的重入锁"></a>场景四:多程序间的重入锁</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 多进程之间的重入锁示例</span><br><span class="line"> *</span><br><span class="line"> * 多个应用对同一资源进行锁定</span><br><span class="line"> *</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LockingExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> QTY = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> REPETITIONS = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/locks"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String procId = String.valueOf(<span class="keyword">new</span> Random().nextInt(<span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// FakeLimitedResource simulates some external resource that can only be access by one process at a time</span></span><br><span class="line">        <span class="keyword">final</span> FakeLimitedResource resource = <span class="keyword">new</span> FakeLimitedResource();</span><br><span class="line"></span><br><span class="line">            CuratorFramework client = CuratorFrameworkFactory.newClient(<span class="string">"localhost:2181"</span>, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                client.start();</span><br><span class="line"></span><br><span class="line">                ExampleClientThatLocks example = <span class="keyword">new</span> ExampleClientThatLocks(client, PATH, resource, <span class="string">"Client "</span>+procId);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; REPETITIONS; ++j) &#123;</span><br><span class="line">                    example.doWork(<span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                CloseableUtils.closeQuietly(client);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="u573A_u666F_u4E94_3A__u591A_u7A0B_u5E8F_u95F4_u7684_u8BFB_u5199_u9501"><a href="#u573A_u666F_u4E94_3A__u591A_u7A0B_u5E8F_u95F4_u7684_u8BFB_u5199_u9501" class="headerlink" title="场景五: 多程序间的读写锁"></a>场景五: 多程序间的读写锁</h3><p>read lock:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 资源被读时,可以被其他进程读,不可被写</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadLockExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> QTY = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> REPETITIONS = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/reade_write_locks"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        CuratorFramework client = CuratorFrameworkFactory.newClient(<span class="string">"localhost:2181"</span>, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            client.start();</span><br><span class="line"></span><br><span class="line">            InterProcessReadWriteLock lock = <span class="keyword">new</span> InterProcessReadWriteLock(client,PATH);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; REPETITIONS; ++j) &#123;</span><br><span class="line">                InterProcessMutex mutex = lock.readLock();</span><br><span class="line">                System.out.println(<span class="string">"请求read lock"</span>);</span><br><span class="line">                mutex.acquire();</span><br><span class="line">                System.out.println(<span class="string">"获取read lock 成功"</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span> * <span class="number">10</span>);</span><br><span class="line">                mutex.release();</span><br><span class="line">                System.out.println(<span class="string">"释放read lock"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            CloseableUtils.closeQuietly(client);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>write lock<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 资源被写时其他进程不可读</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteLockExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> QTY = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> REPETITIONS = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/reade_write_locks"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        CuratorFramework client = CuratorFrameworkFactory.newClient(<span class="string">"localhost:2181"</span>, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            client.start();</span><br><span class="line"></span><br><span class="line">            InterProcessReadWriteLock lock = <span class="keyword">new</span> InterProcessReadWriteLock(client,PATH);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; REPETITIONS; ++j) &#123;</span><br><span class="line">                InterProcessMutex mutex = lock.writeLock();</span><br><span class="line">                System.out.println(<span class="string">"请求write lock"</span>);</span><br><span class="line">                mutex.acquire();</span><br><span class="line">                System.out.println(<span class="string">"获取write lock成功"</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span> * <span class="number">100</span>);</span><br><span class="line">                mutex.release();</span><br><span class="line">                System.out.println(<span class="string">"释放write lock"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            CloseableUtils.closeQuietly(client);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="u573A_u666F_u516D_3A_28shared_semaphore_29__u5171_u4EAB_u4FE1_u53F7_u91CF"><a href="#u573A_u666F_u516D_3A_28shared_semaphore_29__u5171_u4EAB_u4FE1_u53F7_u91CF" class="headerlink" title="场景六:(shared semaphore) 共享信号量"></a>场景六:(shared semaphore) 共享信号量</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * 资源同时最多被2个进程锁定</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LockExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">"/examples/shared_semaphore_locks"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> scount = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        CuratorFramework client = CuratorFrameworkFactory.newClient(<span class="string">"localhost:2181"</span>, <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>));</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            client.start();</span><br><span class="line"></span><br><span class="line">            InterProcessSemaphoreV2 lock = <span class="keyword">new</span> InterProcessSemaphoreV2(client, PATH, scount);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"请求lock"</span>);</span><br><span class="line">            org.apache.curator.framework.recipes.locks.Lease lease = lock.acquire();</span><br><span class="line">            System.out.println(<span class="string">"获取 lock成功"</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span> * <span class="number">20</span>);</span><br><span class="line">            lock.returnLease(lease);</span><br><span class="line">            System.out.println(<span class="string">"释放 lock"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            CloseableUtils.closeQuietly(client);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://mrzhugit.github.io/2016/02/22/zookeeper-use/" data-id="cikzge5qn0003qgv2hza70hst" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/zookeeper-分布式锁服务/">zookeeper 分布式锁服务</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-buy-house" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/07/buy-house/" class="article-date">
  <time datetime="2016-01-07T07:17:08.000Z" itemprop="datePublished">2016-01-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/07/buy-house/">买房记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="u540C_u4E8BA_u4E70_u623F_u60C5_u51B5_3A"><a href="#u540C_u4E8BA_u4E70_u623F_u60C5_u51B5_3A" class="headerlink" title="同事A买房情况:"></a>同事A买房情况:</h3><ul>
<li>2015年7月看房,8月底签订的合同购买,预计2016年2月过户</li>
<li>看房数量15个左右，一周左右时间订房</li>
<li>小区名称:双柳新居</li>
<li>面积:98平米,单价:2.5万/平米</li>
<li>总价:245完,首付:98万 (二手房首付比例不是按照总价30%算的,这是最低首付)</li>
<li>砍价结果:砍价失败,没有减钱</li>
<li>使用组合贷</li>
<li>“链家”看的房子,签约找的”爱屋及乌”,链家中介费需要8万,爱屋及乌2万<h4 id="u770B_u623F_u7ECF_u5386_3A"><a href="#u770B_u623F_u7ECF_u5386_3A" class="headerlink" title="看房经历:"></a>看房经历:</h4>找的时候，是找的八通线，高碑店到管庄这个区域，八通线边上，往南往北延伸一站地找的。<br>看的时候，管庄和双桥有学区房，你让中介带你看的时候，查查小学 初中 幼儿园。<br>双惠苑，朝阳旺角感觉挺好。</li>
</ul>
<p>看房情况</p>
<h2 id="u770B_u623F_u6280_u5DE7_3A"><a href="#u770B_u623F_u6280_u5DE7_3A" class="headerlink" title="看房技巧:"></a>看房技巧:</h2><ul>
<li>一层顶层，把山。最好不要,不好卖。</li>
<li>有电梯的，楼层高的，采光好。</li>
<li>老房子，没电梯的，最好是2.3，别的楼层最好都不要。</li>
<li>注意看:采光，格局，温度，水流，电费,水费,燃气费，各种费用高不.</li>
<li>白天看房可以观察房屋采光情况</li>
<li>晚上看房主要看吵不吵，小区人多不。环境杂不</li>
<li>中介带你看的时候，查查小学 初中 幼儿园。</li>
<li>扩大点范围，找找，东边其他眼线，6号线边上</li>
<li>管庄有飞机航道,平均2分钟一架,有的小区特别吵 (朝阳旺角应该还好，同事有北海明珠住，挨着朝阳旺角。晚上睡觉几乎听不到声音,旺角再往东边，可能有影响了)</li>
<li>不要买临大街的房子的,噪音大</li>
<li>链家服务费用贵,2.8%左右,业务熟悉省心</li>
<li>爱屋及乌服务费用低,1%左右,业务不熟悉,服务不热心,需要自己看流程催办,盯紧合同,服务不专业</li>
<li>公积金贷款需要3-4个月时间办理</li>
<li>组合贷预计5-6个月</li>
<li>好的中介公司首付会找第三方支付公司,钱不直接给卖房子的人,避免问题</li>
<li>跟爱屋及乌中介签订确定合同事项: 要求他们用担保公司，然后写清楚，啥时候过户，啥时候给首付,首付给谁。</li>
<li>找链家看房子,记住小区,单元楼号和门牌号,然后找爱屋及乌的人联系房东,要是能直接联系上房东是最好的</li>
<li>可以多好好小区里的家房子,对比一下房价,一般多少能砍一点价格,可能不会太多</li>
<li>一般情况都会看20-30个房子，才能决定买哪套</li>
<li>可以和小区的老头老太太聊聊，听听有啥怨言不</li>
</ul>
<h2 id="u53CC_u6865_u9644_u4EF6_u5C0F_u533A_u60C5_u51B5_3A"><a href="#u53CC_u6865_u9644_u4EF6_u5C0F_u533A_u60C5_u51B5_3A" class="headerlink" title="双桥附件小区情况:"></a>双桥附件小区情况:</h2><ul>
<li>旺角的房子好，贵，户型和格局都好,集体供暖,非市政供水</li>
<li>双惠苑是经济适用房，有税款，10%左右，得算算价格</li>
<li>管庄地铁往南那条街，里面的房子，东十一区，远洋地产，可能不怎么好，房子倒是行。不过那边吵，地铁往南那条小路天天晚上跑大车，还堵。</li>
<li>朝阳北路那边也看看，那边房子也多。环境比南边小区好。</li>
</ul>
<h2 id="u770B_u623F_u8BB0_u5F55"><a href="#u770B_u623F_u8BB0_u5F55" class="headerlink" title="看房记录"></a>看房记录</h2><h3 id="u671D_u9633_u65FA_u89D2_u5C0F_u533A"><a href="#u671D_u9633_u65FA_u89D2_u5C0F_u533A" class="headerlink" title="朝阳旺角小区"></a>朝阳旺角小区</h3><p>2016-01-07 19:00 ~ 20:00 看房三套,都是南北向,100平米,,报价280W<br>1套五层,两套六层(顶层),顶层暂时不考虑. 五层的不是唯一房,需要缴税48W左右,成本太高<br>暂时没有看到中意的房子.<br>感觉这个小区的两居室户型确实不错!</p>
<h3 id="u53CC_u60E0_u82D1"><a href="#u53CC_u60E0_u82D1" class="headerlink" title="双惠苑"></a>双惠苑</h3><p>这小区看过4套房子,顶层两套,五层一套,二层一套<br>感觉是这个小区房子质量没有朝阳旺角小区的好.<br>五层那套次卧上面是个露台,屋顶明显有漏水现象.</p>
<h3 id="u534E_u9F99_u7F8E_u6811"><a href="#u534E_u9F99_u7F8E_u6811" class="headerlink" title="华龙美树"></a>华龙美树</h3><p>这个小区看了一套房子,三层的.楼间距有问题,冬天采光有问题,阳光照不进屋</p>
<h2 id="u4E8C_u624B_u623F_u7B7E_u7EA6_u6CE8_u610F_u4E8B_u9879"><a href="#u4E8C_u624B_u623F_u7B7E_u7EA6_u6CE8_u610F_u4E8B_u9879" class="headerlink" title="二手房签约注意事项"></a>二手房签约注意事项</h2><p>确定自己的贷款方式、 和房主商定后确定最迟过户日期，过户后什么时候做物业交割给钥匙，多少天之内迁走户口，房子内都留下什么东西。</p>
<p>（一）设施设备细清点        如果购买二手房被上家装修和使用过，在出售时，双方已约定某些装修和设备是包含在总房款之内的。那么，在签订房地产买卖合同时，就应当将这些设施设备的品牌、型号、成色、数量，以及能否正常使用等细节标识清楚。交房时，买家可严格按照合同约定的清单一一核查。<br>（二）费用要结清 ，更名不马虎        买家在收房（交房）时，一定要亲自去相关单位，检查原业主是否已经结清了房屋的各项服务费用，包括水、电、煤气、电话、电视、网络、物业管理费等等。只有确认卖家已将各项费用都结清了，才可以将尾款交付卖家，同时办理相关的更名手续，更名千万不得马虎，很多买家听了卖家的话，觉的煤气，有线等更名无所谓，就不做更名了，其实不然，如果你这次不更名，当你下次将房屋想出售时，那有可能就会因为你这次的马虎，而造成房屋不能正常出售或者其他费用风险.<br>（三）户口须迁出         如果前业主把物业出售后，户籍仍挂在里面，那么新业主收房后就无法落户。这样的纠纷，二手房交易中并不少见。其实，想预防此类问题很简单。在收房前，买卖双方只要一同前往房屋所在地的派出所，询问房屋内的户口情况即可。如卖家户口仍未迁出，买家可根据买卖合同的约定追究卖家责任，如果你不想打扰房东，自己也可以拿着你的新产证或者购房合同，以及身份证到房屋所在地派出所询问，如有户口，可以拿到有派出所盖章的打印文件。（没有产证，或购房合同，派出所一般是不给查的） 。<br>（四）质量问题细排查        二手房一般已有一定的历史，故买家在收房时，还应特别注意查看房屋的工程质量问题。例如，门、窗是否密封，有无破损；天花板、墙壁、地面，有无裂痕、渗漏、积水等；水、电、开关等，能否正常使用，用水通道是否畅通等等。如果所买的房子是顶层，还要查看顶面是否有雨水渗漏的痕迹。        总之，有任何问题都须在收房之前与前业主协商，尽快查明原因，确定由哪方负责维修，以免收房后扯皮。<br>（五）收楼证明备齐全        对于一些多年未入住的新楼，买家收楼时要检查验收楼盘交付使用的各种证件是否齐备。同时，对于一些所谓的收楼费用，例如维修基金等，也必须清晰地知道业主是否曾缴交过，以免造成自己的损失。        另水、电、煤气、电话、电视、网络、物业管理费等过户的单据也应备齐全，以免将来不能享受相关服务。<br>（六）《房屋交接书》要签署        收了钥匙，结清了尾款，收房就算完成了吧？其实，不然。专家提醒，千万别忘签署《房屋交接书》。        签署《房屋交接书》的法律后果是卖家将符合买卖合同约定的房屋交付给买家，交房的时间点也就是签署《房屋交接书》的时间点。如果不签，双方将来可能会对何时是交房时间产生争议，进而影响到双方对违约责任的承担。        签署《房屋交接书》是交付房手续的最后一个程序，应在房屋验收完成之后。它至少应包含有上述六个方面的内容，一式二份，由双方各执一份。如果在对房屋验收时，发现某些方面不符合合同约定，也应当在《房屋交接书》中注明，为追究卖家的责任打下基础。<br><br>二手房买卖的风险主要有产权、资金、房屋本身的质量三个方面<br>一、产权风险<br>1)房主无从事交易的资格，也就是假业主的。<br>这类风险在签约时应该注意查看签约人提供的证件上的名字是否和产权证上登记的为同一人，介于有的人会造假，签约前应要求经纪公司或经纪人前往建委查询。<br>2)房子是多人共有，卖方未经全部共有人一致同意就将房屋登记出售的。<br>这类风险的防范是在签约时查看房产证上的产权人，有多个产权人的必须要求全部权利人到场，如不能到场的需要提供同意出售证明及手写委托书。<br>3)房子有贷款、抵押尚未还清，业主需要用买房的钱去还贷解押的。<br>这类风险购房者记住一条：不同意业主用你的钱去还房贷，如果业主不能自己偿还的，会有中介公司提供金融服务，千万不要自作主张同意业主使用买家的钱去还贷。因为你不能确保卖家拿着你的钱真去还房贷，很多纠纷都会在这里出现。<br>4)房子被法院依法查封的。<br>签约前需让经纪人协同业主到建委去查档，如果交易之前查封的建委会有备档。如果担心签约完成后、过户之前被查封的，在合同里应写清楚如遇法院查封，经纪公司应当承担先行赔付的责任。<br>5)不符合转让条件的房。按照国家相关法律的规定,有的房子是不能转让的，比如5年内的经济适用房、军产房、局级分得的公房。属政策性住房,购房人拥有有限产权,不满5年,不得直接上市交易,确需转让的,由政府进行回购<br>审查产权证时，应注意到以下几方面：<br>1)以优惠价、标准价购买的公房出售时要按成本价补足费用。许多职工购买原产权单位的住房时，都是以优惠价或标准价购买的。所以，购房者要确认该房屋是否已按成本价补足费用。按相关规定，以优惠价、标准价购得的房改房上市时，应该先补足标准价和成本价之间6%的差价。<br>2)军产、院（医院）产、校（学校）产的公房必须经原产权单位盖章后才能出让。大多数这样的单位都不允许其职工向外人出售房屋。<br>远郊区县的乡产权房屋不能上市交易。乡产权房屋需经国家批准，征地开发，待土地性质由集体变为国有时，才能在二级市场上进行房产交易。如果是县城住房，土地使用证上显示是城镇开发的，则可以上市交易。<br><br>** 第1步：买卖前的产权审核<br>首先，要仔细查看业主的房产证，注意房产证上有几个人的署名。如果有两个人，在签订后边的合同时就需要有两个人的名字;其次，看购房时的相关凭据，比如购房发票、契税发票等，作为辅助证据以初步确认房屋产权归属。<br>查看房产证、契税票，看清产权性质、面积、建筑年代、交税时间、房子是否还在抵押等。向房主详细询问房子的情况，为什么要出售房子。<br>确认中介复印了房主的房产证及身份证。<br>　风险提示：此环节最大风险即是产权瑕疵问题，所以在交定金之前，必须去查档并得到确定答案。你相中的房屋有可能处于抵押状态，也有可能因为有债务纠纷而处于查封状态，而一旦房屋产权有问题，交易即宣布无效。</p>
<p>** 第2步：交定金与签合同　看好房子，确定房屋产权后，交定金就是顺理成章的事。但千万不要忽视这个小小的环节，交定金也是有窍门的。房子动辄上百万，以5%计算定金额度也能达到5万元。所以当交易进行到这个环节时，请多留个心眼。不要直接交到业主手中，而应该交由第三方监管。如果买卖双方都有可以信赖的第三方，则可以签一个简单协议，约定赎楼完毕之后给定金卖方，需注明“交给监管第三方则视为卖家收讫，卖家以未收到定金为由拒绝履行合同的，视为违约”。如果没有可信赖的第三方，定金最好交由银行监管。具体做法是：买卖双方到银行去签一份监管协议即可，约定在交易中心完成递件手续后，划拨到卖家账户上。　一般来说，在交定金的时候会签一份预约买卖合同，示范文本可以在深圳市国土房管局网站上下载。合同至少需要约定物业地址、成交金额、交楼时间、违约金和违约责任等，具体条款见示范文本。</p>
<p>　　风险提示：</p>
<p>　　1.当下楼价上涨，买家如想防止卖家毁约不卖，可交足额定金或约定高额违约金，提高违约成本。但定金或违约金不得高于成交金额的20%;<br>　　2 .卖家有可能以定金在监管未拿到手为由毁约卖楼，所以预约买卖合同中应注明“交由第三方监管即视为卖方收讫”;<br>　　3 .为避免交楼前业主存在拖欠费用等现象，你需要签一份交房保证金协议，约定从定金中扣除1万元左右的保证金。在查验家具、电器完好，水电、物管等费用缴清，钥匙交接完毕之后，再退还保证金。</p>
<p>** 第3步：赎楼　赎楼是一门大学问，不同赎楼方式费用不同、供楼时间不同、面临的风险也不同。一般来说，赎楼是业主方的责任。赎楼有两种操作方式：其一，业主通过担保公司，向银行借款赎楼，产生的是0.8%的担保费用，以及0 .4%的短期赎楼利息，等买家房产证出来之后，再到银行做按揭;其二，买家通过担保公司向银行做按揭，银行再将赎楼款打给卖家，其中只需要产生担保费，但买家需要提前供楼。　　“出于风险考虑，买家最好采用前一种方式赎楼。通过后一种方式，可节省0.4%的短期赎楼利息，但如果交易终止、卖家悔约不卖或是房屋存在产权问题，买家将陷入被动境地。”美联物业按揭部总监王青说。　这里边还有一些小窍门：如果通过同行转按揭，上述费用少不了，但可以节省不少时间。另外，担保公司与银行有对接的关系，比如某个担保公司对应的银行可能就只有工行、中行等等。如果不知道如何选择担保公司，可到打算办按揭的银行咨询，否则先行选择担保公司可能要空跑一趟。<br>　　风险提示：因赎楼产生的风险，为此环节中最大。买家拿现金赎楼或自己通过担保公司向银行贷款赎楼，都是不可取的方法。如果发生交易因意外原因终止、房屋被查封等问题，买家会冒风险。记者采访的几位中介按揭部专家，均认同“两笔款赎楼”，即业主自己通过担保公司向银行借款。</p>
<p>** 第4步：付首期及资金监管<br>　除了产权问题之外，自主交易需要担心的第二大问题就是资金监管。事实上，资金监管目前已成体系，买卖双方按照既成规定来做，风险很小。无论是通过何种方式交易，首期款必须放银行监管。<br>　具体操作是：买卖双方到银行签一份资金监管协议，然后各自在银行开一个账户，约定在买家过户完毕、拿到新出的房产证之后，首期款打给卖方。如果交易顺利完成，银行会把款项打给卖方;如果中间出现问题交易终止，则把首期款再打回给买方。银行提供此项服务，一般会收取单笔500元左右的监管费，但如果你是通过要按揭的银行办理资金监管，则可以省去这笔费用。</p>
<p>　　出于公平角度考虑，银行会要求买卖双方在签监管协议时就在放款书上先签字，这样放款时买卖双方不需要亲自到银行，也能避免买家到时候不配合放款给卖家带来困扰。</p>
<p>　　风险提示：<br>　　1.买家要保证首期款通过独立的第三方进行监管，避免资金风险。用首期款为卖家赎楼更是险上加险。<br>　　2.倘若放款书没有提前签字，卖家在买家过户完毕之后要及时催促解冻首期款，避免“人走茶凉”。</p>
<p>** 第5步：签订买卖合同　 　<br>签订书面协议时，最主要要关注四个方面，是产权情况、房产总价、交易税费及日期，其中要注意的是书面协议里面要明确交易税费双方如何分担。日期也是非常重要，像交定金、过户、交楼时间，确定日期才能够保证交易顺利进行，例如规定赎楼要在45天内做完，首期款在签完合同内7天做银行监管等。<br>　<br>　　风险提示：<br>　　1.如果房产有共有权人，要让共有权人一同签字，避免后面出现共有权人不同意出售导致交易存在失败的可能。<br>　　2.如果有租约的，应该让租客签订放弃优先购买权的证明，避免租客以侵犯优先购买权为由导致交易失败。　<br>3.如果房产有较为贵重的家私家电，最好在附表中对家具家电的情况加以详细描述，例如家具家电的品牌、新旧程度等，有必要的话还可以附上家具家电的照片，以防交房时出现货不对板的情况。<br>　　4.如果该房产附有户口，要在签订合同时写明户口迁出的日期及违约条件。<br>　　5.要明确违约责任，特别是在目前房价上涨的情况下，业主违约的几率增大，明确违约责任才能保障自己的权益。</p>
<p>** 第6步：选银行和办按揭　如果不是一次性付款，买家还需要到银行做按揭贷款。去银行做贷款申请需要买卖双方到场，要带上身份证原件、收入证明、买卖合同。申请贷款时直接找到银行的客户经理，说要做房产按揭，他就会帮忙处理。一般来说当天就能够确批复。但有时候也会出现贷款额度不能达到预期的情况，像评估价高的银行需要再评估，一般会延长二三个工作日。不过在办理按揭前，买方需要自己心里有个数，如果房产楼龄较新，例如是在2000年以后入伙，因为评估价比较高，贷款一般可以贷到八成。如果是在2000年以前的房子，那么贷款一般只能做到六七成。至于定金、首期款的银行监管，也可以在申请按揭时同时办理，免得来回跑腿。<br>　至于银行的选择，中介人员推荐说四大国有银行的贷款额度会较宽松，而且办事效率会高一些。至于利率是否能下浮，每家银行执行的政策基本一致，所以并不需要更多考虑。</p>
<p>　　风险提示：<br>　　1 .如果贷款额度达不到预期，买家需要做好支付更多首期款的准备，否则交易不成将造成违约。<br>　　2 .目前二套房贷有收紧趋势，有可能出现贷款批不下来的情况，那么为预防该情况发生后双方发生纠纷，可以在合同中约定解决方法，例如是解除合同还是赔偿违约金等。</p>
<p>** 第7步：过户及交税　去过户时，需要到房产所在地的产权登记中心去办理过户手续。买卖双方需要带上身份证原件、房产证原件、二手房买卖合同。一般递件后，拿到回执业主就可以让银行放之前监管的定金。　至于办证时间，关内是5个工作日出新证，关外宝安也是5个工作日，龙岗则是20-30个工作日(2000年以前的旧证是30个工作日，2000年以后的新证是20个工作日)。交税时，如果合同约定是各付税费，那么两人必须同时到场;如果是业主实收，就只需要买家到场。至于拿新证，一次性付款就可以直接拿新的房产证;如果是按揭贷款拿的就是房产证复印件，银行也会自动去国土房管局办理抵押手续，在5个工作日后放尾款给业主。</p>
<p>　　风险提示：　1.房地产的风险责任，产权转移前由转让人承担，产权转移后由受让人承担。也就是说过户后房屋出现损害等风险，是由买方承担的，所以买方需要在过户前仔细确认房子是否有质量问题。<br>2 .目前房价上涨，有业主会以虚假债务为由让法院查封房产，让过户期间的房产交易终止，买方可以在合同中增加一条条款，约定如果在过户中因业主原因房产遭到查封，那么视为业主违约，必须承担违约责任。</p>
<p>** 第8步：后续事项　交房一般就涉及物业、水电、有线电视、燃气等交接，如果房产内部还有家具家电，还要核实清楚是否有被更换或搬走，最终业主才交钥匙，正式完成交易。而上述的水电等交接，就要分别到管理处、水务局、有线电视台、供电局等部门去办理，双方应准备好房产证复印件、身份证等，部分区域像罗湖区，办理水电交接的时候也许要提供抵押合同，交易双方最好在去之前打电话进行咨询，以免来回跑动。最主要的是之前有签订《交房保证金协议》，如果房子内部家具家电完整，就交回给业主保证金。如果家具家电确实有缺失，那么经过双方协商后可以在保证金里面进行抵扣。<br>　　风险提示：<br>　　1.如果交房时家具家电出现损坏甚至被搬走，而交房保证金无法弥补时，买方通常很难找到卖家去索赔。所以最好在当初约定交房保证金时，尽量把保证金的数额做大。<br>　　2.户口问题也是交房时容易忽视的地方，所以在交房前，最好在房屋所在地的公安局查阅业主的户口是否已经迁出。</p>
<p></p>
<p>** 买二手房，务必要做这四个动作：</p>
<ul>
<li><p>动作1： 核实房子产权的7个问题。<br>签约前一定要去【房地产交易中心】或者【房屋管理局】核实房屋产权是否清晰，是否有查封、抵押等情况。确认无误再签署合同。<br> 产权人身份证与产权证一致吗？不一致，能否提供【公证委托书】与产权人的身份证原件。<br> 产权证有共有人吗？共有人必须都能到场签字，不能出席，必须提供【公证委托书】。<br> 已婚吗？需要提供配偶本人签字的【同意出售证明】。<br> 房子有租客吗？如果出租，必须提供承租人本人签字的【同意出售证明】以及【放弃购买证明】。因为合同法规定，承租人有【优先购买权】。<br> 房子有没有抵押？如果有抵押，确定产权人在交付首付之前可以【解除抵押】并提供【解押证明】。<br> 房子是否被查封？这类房产无法购买。<br> 房子是什么产权？<br>商品房：只能在【房产证下发】之后才能上市交易。在北京，交纳税费多少跟是否“满五唯一”相关。<br>公房：要让其单位开户【放弃回购证明】的单据，才能进行交易。<br>经济适用房：<br>l  【一类经济适用房】：【契税票】填发日期或者【房产证登记日期】不满五年是不能上市交易的；满五年的需要户籍地的【住房保障办公室】开具【放弃有限回购证明】才能上市交易。<br>l  【二类经济适用房】：包括回迁性质、康居和安居性质的房屋，以及，按【经济适用房】管理的其他类型房屋，下发【房产证】即可上市交易；<br>l  军队产权和学校产权的房子：只有单位同意才能上市交易。</p>
</li>
<li><p>动作2： 所有重要的事落在合同上。<br>签约前双方协商好的，或者一方为了促成交易而承诺的事宜，切记口头约定，因为到时不履行，空口无凭。<br>定金数、首付、尾款等数字。<br>税费谁交。<br>什么付款方式。<br>什么时间交房/给首付/过户。<br>户口什么时候迁走。<br>有没有学区名额，是否占用<br>房子里面的东西如何协商，比如家具家电、车位等。</p>
</li>
<li><p>动作3： 资金监管。<br>支付给业主款项一定要进行【资金监管】。<br>简单来说，【资金监管】相当于房产界的【支付宝】，你不愿意货到付款，我也想不见钱不发货。<br>无论是定金、首付还是尾款，都可以放在【资金监管】中，过完户一切ok再付给买家。<br>在二手房交易中，为了保证交易的公正和安全，买家将购房涉及到的资金通过【第三方平台】进行临时托管，待房屋交易达成后（通常指过户完成），再将【房款资金】交付卖家。</p>
</li>
<li><p>动作4： 控制时间。<br>合同一定要对各流程涉及的【时间节点】有明确的规定。<br>包括各款项的到位时间、各手续办理时间、腾房时间等。如果再涉及贷款，商贷最快，组合贷款最慢。各环节的时间需要心里有底。<br>特别是【换房】，一定要留出富余的时间，保证自己不会存在【违约】的可能。<br>比如，如果卖房已经卖了，等着换套房，一定要确定你卖的房子什么时候能拿到首付，什么时间能过户，什么时间能拿到全款。因为这关乎到您买的房子，什么时间支付首付，什么时间过户。</p>
</li>
</ul>
<p></p>
<ol>
<li>所有钱都走资金监管</li>
<li>确定所有重要流程的时间节点,合同中写明</li>
<li>因贷款审批意外导致无法完成合同则三方免责</li>
<li>合同中只有”定金”,没有”订金”这个词</li>
<li>合同中没有标明的事项要在补充条款中写明</li>
</ol>
<p>** 二手房首付款何时交?<br>首付没有具体时间规定，最后的节点是过户前完成首付就行。<br>一般要求在银行面签前，签署首付款收到的证明。所以首付一般的时间是：首付—面签—批贷函—过户。<br>但是考虑有些买方首付的钱是要借一点来的，所以临近过户才凑齐，实际操作中，首付放在拿到批贷函后：面签—批贷函—首付—过户。</p>
<p>** 二手房买卖流程是什么?<br>（1）委托房产中介找房、实地看房<br>（2）看到中意的房源后，就房价、购买条件等跟业主磋商<br>（3）磋商成功就约业主坐下来谈细节，支付定金；磋商失败就继续找房、看房<br>（4）支付定金后就是签约<br>（5）审核资质打网签<br>（6）全款的资金监管、缴税过户；贷款的打出网签后和银行面签，做首付款资金监管<br>（7）面签后等待银行审批，审批通过即可缴税过户；如果贷款申请被拒绝，继续找下一家银行从面签开始。<br>（8）过完户后做物业交割，装修或入住。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://mrzhugit.github.io/2016/01/07/buy-house/" data-id="cikzge5q90000qgv2hv9h67fk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-interview-subject" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/06/interview-subject/" class="article-date">
  <time datetime="2016-01-06T09:16:04.000Z" itemprop="datePublished">2016-01-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/06/interview-subject/">JAVA面试题解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前同事换工作,参加数家公司互联网公司的面试后整理出一份面试题目集合,并将文档送我备用.<br>源文档仅包含题目,近期整理相关答案分享到blog上,供大家一起参考.</p>
<ul>
<li><h4 id="thread_u7C7B_u4E0ERunnable_u63A5_u53E3_u7684_u533A_u522B"><a href="#thread_u7C7B_u4E0ERunnable_u63A5_u53E3_u7684_u533A_u522B" class="headerlink" title="thread类与Runnable接口的区别"></a>thread类与Runnable接口的区别</h4><hr><br>1.Thread和Runnable都可以实现多线程<br>2.Thread是类，而Runnable是接口，这就是类和接口区别，类只能继承一次，而接口可以实现多个接口。<br>3.Thread实现Runnable接口<br>4.分享资源功能:一般我们使用多线程就是快速解决资源问题。Runnable可以实现资源分享，类实现Runnable并不具备线程功能，必须通过new Thread(runabble子类)调用start()启动线程，所以我们通常new一个runnable的子类，启动多个线程解决资源问题。Thread是类所以我们每次new一个对象时候资源已经实例化了，不能资源共享，Thread类要实现资源共享，可以声明变量为static，类共享的可以解决。<br>5.通过以上建议最好实现Runnable接口 实现多线程。<br>参考链接<br><a href="http://developer.51cto.com/art/201203/321042.htm" target="_blank">http://developer.51cto.com/art/201203/321042.htm</a></li>
<li><h3 id="Runnable_u548CCallable_u7684_u533A_u522B"><a href="#Runnable_u548CCallable_u7684_u533A_u522B" class="headerlink" title="Runnable和Callable的区别"></a>Runnable和Callable的区别</h3><hr><br>(1)Callable规定的方法是call(),Runnable规定的方法是run().<br>(2)Callable的任务执行后可返回值，而Runnable的任务是不能返回值得<br>(3)call方法可以抛出异常，run方法不可以<br>(4)运行Callable任务可以拿到一个Future对象，表示异步计算的结果。它提供了检查计算是否完成的方法，以等待计算的完成，并检索计算的结果。通过Future对象可以了解任务执行情况，可取消任务的执行，还可获取执行结果<hr></li>
<li><h4 id="nginx_u914D_u7F6E_u4F18_u5316"><a href="#nginx_u914D_u7F6E_u4F18_u5316" class="headerlink" title="nginx配置优化"></a>nginx配置优化</h4><hr><br>1.使用epoll<br>2.增加worker进程数<br>3.增加最大文件打开数<br>4.优化Linux内核参数:主要是文件句柄数量<br>详细参考链接:<br><a href="https://imququ.com/post/my-nginx-conf-for-wpo.html" target="_blank">https://imququ.com/post/my-nginx-conf-for-wpo.html</a><br><a href="http://www.cnblogs.com/leezhxing/p/4374035.html" target="_blank">http://www.cnblogs.com/leezhxing/p/4374035.html</a><hr></li>
<li><h4 id="mysql__u7D22_u5F15_23_u5DE5_u4F5C_u539F_u7406_uFF08a_b_c_uFF09_u4E09_u4E2A_u7D22_u5F15_a_ab_abc_u80FD_u7528_u5230__u8054_u5408_u7D22_u5F15"><a href="#mysql__u7D22_u5F15_23_u5DE5_u4F5C_u539F_u7406_uFF08a_b_c_uFF09_u4E09_u4E2A_u7D22_u5F15_a_ab_abc_u80FD_u7528_u5230__u8054_u5408_u7D22_u5F15" class="headerlink" title="mysql 索引#工作原理（a b c）三个索引 a ab abc能用到 联合索引"></a>mysql 索引#工作原理（a b c）三个索引 a ab abc能用到 联合索引</h4><hr><hr></li>
<li><h4 id="spring_mvc__u7684_u5DE5_u4F5C_u539F_u7406__uFF08dispatcherServlet_u7B49_uFF09_uFF0C_u4EE5_u53CA_u548Cspring_u7684_u533A_u522B_uFF0Cspring_u7684_u6CE8_u89E3_uFF0Cspring_u5355_u4F8B_u548C_u591A_u4F8B_u7684_u914D_u7F6E_uFF0C_u5982_u4F55_u5728_u5355_u4F8B_u8C03_u7528_u591A_u4F8B"><a href="#spring_mvc__u7684_u5DE5_u4F5C_u539F_u7406__uFF08dispatcherServlet_u7B49_uFF09_uFF0C_u4EE5_u53CA_u548Cspring_u7684_u533A_u522B_uFF0Cspring_u7684_u6CE8_u89E3_uFF0Cspring_u5355_u4F8B_u548C_u591A_u4F8B_u7684_u914D_u7F6E_uFF0C_u5982_u4F55_u5728_u5355_u4F8B_u8C03_u7528_u591A_u4F8B" class="headerlink" title="spring mvc 的工作原理 （dispatcherServlet等），以及和spring的区别，spring的注解，spring单例和多例的配置，如何在单例调用多例"></a>spring mvc 的工作原理 （dispatcherServlet等），以及和spring的区别，spring的注解，spring单例和多例的配置，如何在单例调用多例</h4><hr><br>1）DispatcherServlet接收到请求后，根据对应配置文件中配置的处理器映射，找到对应的处理器映射项（HandlerMapping），根据配置的映射规则，找到对应的处理器（Handler）。<br>2）调用相应处理器中的处理方法，处理该请求，处理器处理结束后会将一个ModelAndView类型的数据传给DispatcherServlet，这其中包含了处理结果的视图和视图中要使用的数据。<br>3）DispatcherServlet根据得到的ModelAndView中的视图对象，找到一个合适的ViewResolver（视图解析器），根据视图解析器的配置，DispatcherServlet将视图要显示的数据传给对应的视图，最后给浏览器构造一个HTTP响应。<br>DispatcherServlet是整个Spring MVC的核心。它负责接收HTTP请求组织协调Spring MVC的各个组成部分。其主要工作有以下三项：<br>1）截获符合特定格式的URL请求。<br>2）初始化DispatcherServlet上下文对应的WebApplicationContext，并将其与业务层、持久化层的WebApplicationContext建立关联。<br>3）初始化Spring MVC的各个组成组件，并装配到DispatcherServlet中。<hr></li>
<li><h4 id="spring__u7EBF_u7A0B_u5B89_u5168_uFF0Cspringmvc_u6574_u5408redis_uFF0Cspringmvc_u6846_u67B6_u7684_u5E95_u5C42_u5B9E_u73B0_uFF0Cspring_aop_u7684_u5B9E_u73B0_u539F_u7406"><a href="#spring__u7EBF_u7A0B_u5B89_u5168_uFF0Cspringmvc_u6574_u5408redis_uFF0Cspringmvc_u6846_u67B6_u7684_u5E95_u5C42_u5B9E_u73B0_uFF0Cspring_aop_u7684_u5B9E_u73B0_u539F_u7406" class="headerlink" title="spring 线程安全，springmvc整合redis，springmvc框架的底层实现，spring aop的实现原理"></a>spring 线程安全，springmvc整合redis，springmvc框架的底层实现，spring aop的实现原理</h4><hr><br><a href="http://www.cnblogs.com/doit8791/p/4093808.html" target="_blank" rel="external">Spring单例与线程安全小结</a><br><a href="https://www.ibm.com/developerworks/cn/java/j-lo-springaopcglib/" target="_blank" rel="external">Spring AOP 实现原理与 CGLIB 应用</a><br><a href="http://www.cnblogs.com/dennisit/p/3614521.html" target="_blank" rel="external">spring 整合redis</a><hr></li>
<li><h4 id="redis_u7684_u6570_u636E_u7C7B_u578B"><a href="#redis_u7684_u6570_u636E_u7C7B_u578B" class="headerlink" title="redis的数据类型"></a>redis的数据类型</h4><hr><br>字符串（Strings）,列表（Lists）,集合（Sets）,哈希（Hashes）,有序集合（Sorted sets）<br><a href="http://www.redis.cn/topics/data-types.html" target="_blank" rel="external">redis数据类型</a><hr></li>
<li><h4 id="java_u7684_u57FA_u672C_u7C7B_u578B_u548C_u5F15_u7528_u7C7B_u578B"><a href="#java_u7684_u57FA_u672C_u7C7B_u578B_u548C_u5F15_u7528_u7C7B_u578B" class="headerlink" title="java的基本类型和引用类型"></a>java的基本类型和引用类型</h4><hr><br>基本类型: byte,boolean,short,int,long,char,float,double<br>引用类型: 类class,接口interface,数组array<br><a href="http://www.cnblogs.com/bluestorm/archive/2012/07/30/2615034.html" target="_blank" rel="external">http://www.cnblogs.com/bluestorm/archive/2012/07/30/2615034.html</a><hr></li>
<li><h4 id="spring_AOP_u8BBE_u8BA1_u7684_u76EE_u7684_uFF0C_u5176_u6709_u54EA_u4E9B_u5BB9_u5668_uFF0C_u7528_u4E86_u90A3_u4E9B_u8BBE_u8BA1_u6A21_u5F0F"><a href="#spring_AOP_u8BBE_u8BA1_u7684_u76EE_u7684_uFF0C_u5176_u6709_u54EA_u4E9B_u5BB9_u5668_uFF0C_u7528_u4E86_u90A3_u4E9B_u8BBE_u8BA1_u6A21_u5F0F" class="headerlink" title="spring AOP设计的目的，其有哪些容器，用了那些设计模式"></a>spring AOP设计的目的，其有哪些容器，用了那些设计模式</h4><hr>

</li>
</ul>
<p><hr></p>
<ul>
<li><h4 id="spring__u4E8B_u52A1_u9694_u79BB_u7EA7_u522B_uFF0C_u7406_u89E3_u4E8B_u52A1_u7684_u539F_u5B50_u6027_u3001_u4E00_u81F4_u6027_u3001_u9694_u79BB_u6027_u548C_u6301_u4E45_u6027_u3001_u4EE5_u53CA_u4E8B_u52A1_u7684_u9694_u79BB_u7EA7_u522B"><a href="#spring__u4E8B_u52A1_u9694_u79BB_u7EA7_u522B_uFF0C_u7406_u89E3_u4E8B_u52A1_u7684_u539F_u5B50_u6027_u3001_u4E00_u81F4_u6027_u3001_u9694_u79BB_u6027_u548C_u6301_u4E45_u6027_u3001_u4EE5_u53CA_u4E8B_u52A1_u7684_u9694_u79BB_u7EA7_u522B" class="headerlink" title="spring 事务隔离级别，理解事务的原子性、一致性、隔离性和持久性、以及事务的隔离级别"></a>spring 事务隔离级别，理解事务的原子性、一致性、隔离性和持久性、以及事务的隔离级别</h4><hr></li>
<li>read uncommit 允许脏读取，但不允许更新丢失</li>
<li>read commit 允许不可重复读取，但不允许脏读取</li>
<li>Repeatable Read 禁止不可重复读取和脏读取，但是有时可能出现幻读数据。</li>
<li>Serializable 提供严格的事务隔离。<hr></li>
<li><h4 id="mysql_u7684_u5F15_u64CE"><a href="#mysql_u7684_u5F15_u64CE" class="headerlink" title="mysql的引擎"></a>mysql的引擎</h4><hr></li>
</ul>
<ol>
<li>事务处理</li>
</ol>
<p>innodb 支持事务功能，myisam 不支持。<br>Myisam 的执行速度更快，性能更好。</p>
<ol>
<li>select ,update ,insert ,delete 操作</li>
</ol>
<p>MyISAM：如果执行大量的SELECT，MyISAM是更好的选择<br>InnoDB：如果你的数据执行大量的INSERT或UPDATE，出于性能方面的考虑，应该使用InnoDB表</p>
<ol>
<li>锁机制不同</li>
</ol>
<p>InnoDB 为行级锁，myisam 为表级锁。</p>
<p>注意：当数据库无法确定，所找的行时，也会变为锁定整个表。<br>如： update table set num = 10 where username like “%test%”;</p>
<ol>
<li>查询表的行数不同</li>
</ol>
<p>MyISAM：select count(<em>) from table,MyISAM只要简单的读出保存好的行数，注意的是，当count(</em>)语句包含   where条件时，两种表的操作是一样的</p>
<p>InnoDB ： InnoDB 中不保存表的具体行数，也就是说，执行select count(*) from table时，InnoDB要扫描一遍整个表来计算有多少行</p>
<ol>
<li>物理结构不同</li>
</ol>
<p>MyISAM ：每个MyISAM在磁盘上存储成三个文件。第一个文件的名字以表的名字开始，扩展名指出文件类型。<br>  .frm文件存储表定义。<br>  数据文件的扩展名为.MYD (MYData)。<br>  索引文件的扩展名是.MYI (MYIndex)</p>
<p>InnoDB：基于磁盘的资源是InnoDB表空间数据文件和它的日志文件，InnoDB 表的大小只受限于操作系统文件的大小，一般为 2GB</p>
<ol>
<li><p>anto_increment 机制不同</p>
<p>更好和更快的auto_increment处理<br>其他：为什么MyISAM会比Innodb 的查询速度快。</p>
</li>
</ol>
<p>INNODB在做SELECT的时候，要维护的东西比MYISAM引擎多很多；<br>1）数据块，INNODB要缓存，MYISAM只缓存索引块，  这中间还有换进换出的减少；<br>2）innodb寻址要映射到块，再到行，MYISAM 记录的直接是文件的OFFSET，定位比INNODB要快<br>3）INNODB还需要维护MVCC一致；虽然你的场景没有，但他还是需要去检查和维护</p>
<p><hr></p>
<ul>
<li><h4 id="mysql_u7684_u94FE_u63A5_u9A71_u52A8_uFF0Cc3po_u7684_u8FDE_u63A5_u6C60"><a href="#mysql_u7684_u94FE_u63A5_u9A71_u52A8_uFF0Cc3po_u7684_u8FDE_u63A5_u6C60" class="headerlink" title="mysql的链接驱动，c3po的连接池"></a>mysql的链接驱动，c3po的连接池</h4><hr><hr></li>
<li><h4 id="hashmap__u5B9E_u73B0_u539F_u7406_28_u67E5_u627E_u3001_u8D1F_u8F7D_u56E0_u5B50_u3001hash_u503C_u3001_u975E_u7EBF_u6027_u5B89_u5168_29"><a href="#hashmap__u5B9E_u73B0_u539F_u7406_28_u67E5_u627E_u3001_u8D1F_u8F7D_u56E0_u5B50_u3001hash_u503C_u3001_u975E_u7EBF_u6027_u5B89_u5168_29" class="headerlink" title="hashmap 实现原理(查找、负载因子、hash值、非线性安全)"></a>hashmap 实现原理(查找、负载因子、hash值、非线性安全)</h4><hr><hr></li>
<li><h4 id="threadLocal"><a href="#threadLocal" class="headerlink" title="threadLocal"></a>threadLocal</h4><hr><hr></li>
<li><h4 id="java__u5E76_u53D1_u5305"><a href="#java__u5E76_u53D1_u5305" class="headerlink" title="java 并发包"></a>java 并发包</h4><hr><hr></li>
<li><h4 id="u9879_u76EE_u7684_u6027_u80FD_uFF0C_u5F00_u53D1_u4E2D_u7684_u6027_u80FD"><a href="#u9879_u76EE_u7684_u6027_u80FD_uFF0C_u5F00_u53D1_u4E2D_u7684_u6027_u80FD" class="headerlink" title="项目的性能，开发中的性能"></a>项目的性能，开发中的性能</h4><hr><hr></li>
<li><h4 id="u5F00_u53D1_u4E2D_u5B89_u5168_u7B56_u7565_u4EE5_u53CA_u9879_u76EE_u7684_u5B89_u5168_u7B56_u7565"><a href="#u5F00_u53D1_u4E2D_u5B89_u5168_u7B56_u7565_u4EE5_u53CA_u9879_u76EE_u7684_u5B89_u5168_u7B56_u7565" class="headerlink" title="开发中安全策略以及项目的安全策略"></a>开发中安全策略以及项目的安全策略</h4><hr><hr></li>
<li><h4 id="notify_28_29_wait_28_29__u548Csleep_28_29_u7684_u533A_u522B-_u4EE5_u53CA_u5BF9_u8D44_u6E90_u7684_u662F_u5426_u91CA_u653E"><a href="#notify_28_29_wait_28_29__u548Csleep_28_29_u7684_u533A_u522B-_u4EE5_u53CA_u5BF9_u8D44_u6E90_u7684_u662F_u5426_u91CA_u653E" class="headerlink" title="notify() wait() 和sleep()的区别.以及对资源的是否释放"></a>notify() wait() 和sleep()的区别.以及对资源的是否释放</h4><hr><hr></li>
<li><h4 id="gc_u8BBE_u7F6E_uFF0Cjava_u7684jvm_u8C03_u4F18_uFF0C_u4EE5_u53CAjava_u5185_u5B58_u7BA1_u7406_u673A_u5236_uFF0Cjvm_u8BE6_u7EC6_u5DE5_u4F5C_u673A_u5236_uFF0Cjvm_u7684_u52A0_u8F7D_u673A_u5236"><a href="#gc_u8BBE_u7F6E_uFF0Cjava_u7684jvm_u8C03_u4F18_uFF0C_u4EE5_u53CAjava_u5185_u5B58_u7BA1_u7406_u673A_u5236_uFF0Cjvm_u8BE6_u7EC6_u5DE5_u4F5C_u673A_u5236_uFF0Cjvm_u7684_u52A0_u8F7D_u673A_u5236" class="headerlink" title="gc设置，java的jvm调优，以及java内存管理机制，jvm详细工作机制，jvm的加载机制"></a>gc设置，java的jvm调优，以及java内存管理机制，jvm详细工作机制，jvm的加载机制</h4><hr><hr></li>
<li><h4 id="u52A8_u6001_u4EE3_u7406_u548Ccglib_u4EE3_u7406_u7684_u533A_u522B"><a href="#u52A8_u6001_u4EE3_u7406_u548Ccglib_u4EE3_u7406_u7684_u533A_u522B" class="headerlink" title="动态代理和cglib代理的区别"></a>动态代理和cglib代理的区别</h4><hr><hr></li>
<li><h4 id="synchronized_28_29__u7684_u5B9E_u73B0_u673A_u5236_uFF0C_u4EE5_u53CA_u9501_u5B9A_u8303_u56F4"><a href="#synchronized_28_29__u7684_u5B9E_u73B0_u673A_u5236_uFF0C_u4EE5_u53CA_u9501_u5B9A_u8303_u56F4" class="headerlink" title="synchronized() 的实现机制，以及锁定范围"></a>synchronized() 的实现机制，以及锁定范围</h4><hr><hr></li>
<li><h4 id="volatile__u5173_u952E_u5B57__u548C_transient_u5173_u952E_u5B57"><a href="#volatile__u5173_u952E_u5B57__u548C_transient_u5173_u952E_u5B57" class="headerlink" title="volatile 关键字 和 transient关键字"></a>volatile 关键字 和 transient关键字</h4><hr><br>volatile    标记字段可能会被多个线程同时访问，而不做同步<br>transient    修饰不要序列化的字段<hr></li>
<li><h4 id="handleradapter_handlemapping__u533A_u522B"><a href="#handleradapter_handlemapping__u533A_u522B" class="headerlink" title="handleradapter handlemapping 区别"></a>handleradapter handlemapping 区别</h4><hr><hr></li>
<li><h4 id="mysql_group__u7684_u5B9E_u9645_u542B_u4E49"><a href="#mysql_group__u7684_u5B9E_u9645_u542B_u4E49" class="headerlink" title="mysql group 的实际含义"></a>mysql group 的实际含义</h4><hr><br>分组<hr></li>
<li><h4 id="synchronized_28_29__u4FEE_u9970_u90A3_u4E9B__u4FEE_u9970_u7C7B_u548C_u65B9_u6CD5_u7684_u533A_u522B"><a href="#synchronized_28_29__u4FEE_u9970_u90A3_u4E9B__u4FEE_u9970_u7C7B_u548C_u65B9_u6CD5_u7684_u533A_u522B" class="headerlink" title="synchronized() 修饰那些 修饰类和方法的区别"></a>synchronized() 修饰那些 修饰类和方法的区别</h4><hr></li>
<li>对于普通同步方法,锁是当前实例对象</li>
<li>对于静态同步方法,所示当前类的Class对象</li>
<li>对于同步方法块,锁是Synchonized括号里配置的对象<hr></li>
<li><h4 id="tomcat__u662F_u4E0D_u662F_u53EF_u4EE5_u5BF9sessionId_u91CD_u547D_u540D"><a href="#tomcat__u662F_u4E0D_u662F_u53EF_u4EE5_u5BF9sessionId_u91CD_u547D_u540D" class="headerlink" title="tomcat 是不是可以对sessionId重命名"></a>tomcat 是不是可以对sessionId重命名</h4><hr><br>可以!<br>Servlet API 3.0 后可以在web.xml 增加配置<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">session-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">cookie-config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">name</span>&gt;</span>MY_JSESSIONID_YAHOOOOOO<span class="tag">&lt;/<span class="title">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">cookie-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>也可以增加tomcat启动参数<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JAVA_OPTS="$JAVA_OPTS</span><br><span class="line">-<span class="ruby"><span class="constant">Dorg</span>.apache.catalina.<span class="constant">SESSION_COOKIE_NAME</span>=<span class="constant">MYJSESSIONID</span></span><br><span class="line"></span>-<span class="ruby"><span class="constant">Dorg</span>.apache.catalina.<span class="constant">SESSION_PARAMETER_NAME</span>=myjsessionid<span class="string">"</span></span></span><br></pre></td></tr></table></figure></p>
<p><hr></p>
<ul>
<li><h4 id="js__u4F5C_u7528_u57DF"><a href="#js__u4F5C_u7528_u57DF" class="headerlink" title="js 作用域"></a>js 作用域</h4><hr><hr></li>
<li><h4 id="java_u672C_u8EAB_u662F_u5426_u63D0_u4F9B_u9884_u5904_u7406_u3001_u672C_u8EAB_u662F_u5426_u652F_u6301_u6CDB_u578B_u7F16_u7A0B"><a href="#java_u672C_u8EAB_u662F_u5426_u63D0_u4F9B_u9884_u5904_u7406_u3001_u672C_u8EAB_u662F_u5426_u652F_u6301_u6CDB_u578B_u7F16_u7A0B" class="headerlink" title="java本身是否提供预处理、本身是否支持泛型编程"></a>java本身是否提供预处理、本身是否支持泛型编程</h4><hr><hr></li>
<li><h4 id="Java_u4EE3_u7801_u5982_u4F55_u4F18_u5316_u6267_u884C_u987A_u5E8F"><a href="#Java_u4EE3_u7801_u5982_u4F55_u4F18_u5316_u6267_u884C_u987A_u5E8F" class="headerlink" title="Java代码如何优化执行顺序"></a>Java代码如何优化执行顺序</h4><hr><hr></li>
<li><h4 id="int_u76F4_u63A5_u8D4B_u503C_u548CvalueOf_28int_i_29_u6267_u884C_u901F_u5EA6"><a href="#int_u76F4_u63A5_u8D4B_u503C_u548CvalueOf_28int_i_29_u6267_u884C_u901F_u5EA6" class="headerlink" title="int直接赋值和valueOf(int i)执行速度"></a>int直接赋值和valueOf(int i)执行速度</h4><hr><hr></li>
<li><h4 id="java__u63A5_u53E3_u548C_u7C7B_u7684_u533A_u522B_uFF0Cjava_u7684_u53D1_u5C04_u673A_u5236"><a href="#java__u63A5_u53E3_u548C_u7C7B_u7684_u533A_u522B_uFF0Cjava_u7684_u53D1_u5C04_u673A_u5236" class="headerlink" title="java 接口和类的区别，java的发射机制"></a>java 接口和类的区别，java的发射机制</h4><hr><hr></li>
<li><h4 id="struts2_u4F18_u70B9_uFF0C_u62E6_u622A_u5668_u539F_u7406"><a href="#struts2_u4F18_u70B9_uFF0C_u62E6_u622A_u5668_u539F_u7406" class="headerlink" title="struts2优点，拦截器原理"></a>struts2优点，拦截器原理</h4><hr><hr></li>
<li><h4 id="jsp__u8FD0_u884C_u539F_u7406_u4EE5_u53CA_u8FD0_u884C_u8FC7_u7A0B"><a href="#jsp__u8FD0_u884C_u539F_u7406_u4EE5_u53CA_u8FD0_u884C_u8FC7_u7A0B" class="headerlink" title="jsp 运行原理以及运行过程"></a>jsp 运行原理以及运行过程</h4><hr><hr></li>
<li><h4 id="tomcat_u6700_u591A_u80FD_u652F_u6301_u591A_u5C11_u7528_u6237_u5E76_u53D1_uFF0Cnginx_u9AD8_u5E76_u53D1_u7684_u914D_u7F6E_u548C_u6700_u591A_u80FD_u652F_u6301_u591A_u5C11_u5E76_u53D1"><a href="#tomcat_u6700_u591A_u80FD_u652F_u6301_u591A_u5C11_u7528_u6237_u5E76_u53D1_uFF0Cnginx_u9AD8_u5E76_u53D1_u7684_u914D_u7F6E_u548C_u6700_u591A_u80FD_u652F_u6301_u591A_u5C11_u5E76_u53D1" class="headerlink" title="tomcat最多能支持多少用户并发，nginx高并发的配置和最多能支持多少并发"></a>tomcat最多能支持多少用户并发，nginx高并发的配置和最多能支持多少并发</h4><hr>

</li>
</ul>
<p>tomcat配置最大连接数<br>server.xml中配置  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector   port=<span class="string">"8080"</span></span><br><span class="line">      maxThreads=<span class="string">"150"</span>   </span><br><span class="line">      minSpareThreads=<span class="string">"25"</span>   </span><br><span class="line">      maxSpareThreads=<span class="string">"75"</span></span><br><span class="line">      acceptCount=<span class="string">"100"</span></span><br><span class="line">      /&gt;</span><br><span class="line"><span class="preprocessor"># maxThreads=<span class="string">"150"</span>     表示最多同时处理<span class="number">150</span>个连接</span></span><br><span class="line"><span class="preprocessor"># minSpareThreads=<span class="string">"25"</span>     表示即使没有人使用也开这么多空线程等待</span></span><br><span class="line"><span class="preprocessor"># maxSpareThreads=<span class="string">"75"</span>     表示如果最多可以空<span class="number">75</span>个线程，例如某时刻有<span class="number">80</span>人访问，之后没有人访问了，则tomcat不会保留<span class="number">80</span>个空线程，而是关闭<span class="number">5</span>个空的。</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># acceptCount=<span class="string">"100"</span>   当同时连接的人数达到maxThreads时，还可以接收排队的连接，超过这个连接的则直接返回拒绝连接。</span></span><br></pre></td></tr></table></figure>
<p>nginx配置</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">worker_processes</span> <span class="number">8</span>;</span><br><span class="line"><span class="title">worker_rlimit_nofile</span> <span class="number">655350</span>;</span><br><span class="line"><span class="title">events</span> &#123;</span><br><span class="line">   <span class="title">use</span> <span class="built_in">epoll</span>;</span><br><span class="line">    <span class="title">worker_connections</span>  <span class="number">655350</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><hr></p>
<ul>
<li><h4 id="ibatis_u548Chibernate_u533A_u522B"><a href="#ibatis_u548Chibernate_u533A_u522B" class="headerlink" title="ibatis和hibernate区别"></a>ibatis和hibernate区别</h4><hr><hr></li>
<li><h4 id="java_u7684_u6587_u4EF6_u8BFB_u5199_u6D41"><a href="#java_u7684_u6587_u4EF6_u8BFB_u5199_u6D41" class="headerlink" title="java的文件读写流"></a>java的文件读写流</h4><hr><hr></li>
<li><h4 id="mysql_u5982_u4F55_u4F7F_u7528batch_u6279_u91CF_u5904_u7406_uFF0C_u540D_u5B57_u7684_u7B2C_u4E8C_u4E2A_u5B57_u6BCD_u4E0D_u662Fa"><a href="#mysql_u5982_u4F55_u4F7F_u7528batch_u6279_u91CF_u5904_u7406_uFF0C_u540D_u5B57_u7684_u7B2C_u4E8C_u4E2A_u5B57_u6BCD_u4E0D_u662Fa" class="headerlink" title="mysql如何使用batch批量处理，名字的第二个字母不是a"></a>mysql如何使用batch批量处理，名字的第二个字母不是a</h4><hr><hr></li>
<li><h4 id="java__u5404_u79CD_u6A21_u5F0F_uFF0C_u5355_u4F8B_uFF0C_u5DE5_u5382_uFF0C_u95E8_u9762_uFF0C_u7B56_u7565"><a href="#java__u5404_u79CD_u6A21_u5F0F_uFF0C_u5355_u4F8B_uFF0C_u5DE5_u5382_uFF0C_u95E8_u9762_uFF0C_u7B56_u7565" class="headerlink" title="java 各种模式，单例，工厂，门面，策略"></a>java 各种模式，单例，工厂，门面，策略</h4><hr><hr></li>
<li><h4 id="mysql_u7684_case_when"><a href="#mysql_u7684_case_when" class="headerlink" title="mysql的 case  when"></a>mysql的 case  when</h4><hr><hr></li>
<li><h4 id="u4E8C_u53C9_u6811_u904D_u5386_u4E4B_u9012_u5F52_u7B97_u6CD5"><a href="#u4E8C_u53C9_u6811_u904D_u5386_u4E4B_u9012_u5F52_u7B97_u6CD5" class="headerlink" title="二叉树遍历之递归算法"></a>二叉树遍历之递归算法</h4><hr><hr></li>
<li><h4 id="xml__u89E3_u6790_u6280_u672F"><a href="#xml__u89E3_u6790_u6280_u672F" class="headerlink" title="xml 解析技术"></a>xml 解析技术</h4><hr><hr></li>
<li><h4 id="servlet_u7684_u5DE5_u4F5C_u539F_u7406"><a href="#servlet_u7684_u5DE5_u4F5C_u539F_u7406" class="headerlink" title="servlet的工作原理"></a>servlet的工作原理</h4><hr><hr></li>
<li><h4 id="java__u4E2Dthrows_u548Cthrow_u7684_u533A_u522B"><a href="#java__u4E2Dthrows_u548Cthrow_u7684_u533A_u522B" class="headerlink" title="java 中throws和throw的区别"></a>java 中throws和throw的区别</h4><hr><br>throw语句用在方法体内，表示抛出异常，由方法体内的语句处理。<br>throws语句用在方法声明后面，表示再抛出异常，由该方法的调用者来处理。</li>
</ul>
<p>throws主要是声明这个方法会抛出这种类型的异常，使它的调用者知道要捕获这个异常。<br>throw是具体向外抛异常的动作，所以它是抛出一个异常实例。</p>
<p>throws说明你有那个可能，倾向。<br>throw的话，那就是你把那个倾向变成真实的了。</p>
<p>同时：<br>1、throws出现在方法函数头；而throw出现在函数体。<br>2、throws表示出现异常的一种可能性，并不一定会发生这些异常；throw则是抛出了异常，执行throw则一定抛出了某种异常。<br>3、两者都是消极处理异常的方式（这里的消极并不是说这种方式不好），只是抛出或者可能抛出异常，但是不会由函数去处理异常，真正的处理异常由函数的上层调用处理。</p>
<p><hr></p>
<ul>
<li><h4 id="u90A3_u4E9Bweb_u670D_u52A1_u5668_u53EF_u88ABjsp_u6587_u4EF6_u8BBF_u95EE_uFF0Cjsp_u7684_u4F1A_u8BDD_u4F5C_u7528_u57DF"><a href="#u90A3_u4E9Bweb_u670D_u52A1_u5668_u53EF_u88ABjsp_u6587_u4EF6_u8BBF_u95EE_uFF0Cjsp_u7684_u4F1A_u8BDD_u4F5C_u7528_u57DF" class="headerlink" title="那些web服务器可被jsp文件访问，jsp的会话作用域"></a>那些web服务器可被jsp文件访问，jsp的会话作用域</h4><hr><hr></li>
<li><h4 id="get_u548Cpost_u7684_u533A_u522B"><a href="#get_u548Cpost_u7684_u533A_u522B" class="headerlink" title="get和post的区别"></a>get和post的区别</h4><hr><br>1.get用户获取资源,post用于提交信息<br>2.get一般具有幂等性</li>
</ul>
<ol>
<li>get传送的数据量较小，不能大于2KB。post传送的数据量较大，一般被默认为不受限制.</li>
<li>get安全性非常低，post安全性较高。但是执行效率却比Post方法好。<hr></li>
</ol>
<ul>
<li><h4 id="socket_u6709_u54EA_u51E0_u79CD_u4F20_u8F93_u534F_u8BAE"><a href="#socket_u6709_u54EA_u51E0_u79CD_u4F20_u8F93_u534F_u8BAE" class="headerlink" title="socket有哪几种传输协议"></a>socket有哪几种传输协议</h4><hr><br>(1)基于TCP的Socket:提供给应用层可靠的流式数据服务，使用TCP的Socket应用程序协议：BGP，HTTP，FTP，TELNET等。优点：基于数据传输的可靠性。<br>(2)基于UDP的Socket：适用于数据传输可靠性要求不高的场合。基于UDP的Socket应用程序或协议有：RIP，SNMP，L2TP等。<br>(3)基于RawIp的Socket:非连接，不可靠的数据传输。特点：能使应用程序直接访问网络层。基于RawIp的Socket有ping ,tracert,ospf等。<br>(4)基于链路层的Socket。为IS-IS协议提供的Socket接口。使IS-IS协议可通过Socket直接访问链路层。非连接，不可靠通信服务。<hr></li>
<li><h4 id="u5E38_u89C1_u7684http_u8BF7_u6C42_u72B6_u6001_u4EE5_u53CA_u542B_u4E49_u8868"><a href="#u5E38_u89C1_u7684http_u8BF7_u6C42_u72B6_u6001_u4EE5_u53CA_u542B_u4E49_u8868" class="headerlink" title="常见的http请求状态以及含义表"></a>常见的http请求状态以及含义表</h4><hr><br>所有状态码的第一个数字代表了响应的五种状态之一。<br>消息（1字头）<br>成功（2字头）<br>重定向（3字头）<br>请求错误（4字头）<br>服务器错误（5、6字头）<hr></li>
<li><h4 id="u51992_u4E2A_u7EBF_u7A0B_uFF0C_u4E00_u4E2A_u7EBF_u7A0B_u6253_u53701-52_uFF0C_u53E6_u4E00_u4E2A_u7EBF_u7A0B_u6253_u5370A-Z_uFF0C_u6253_u5370_u987A_u5E8F_u662F12A34B56C_u20265152Z"><a href="#u51992_u4E2A_u7EBF_u7A0B_uFF0C_u4E00_u4E2A_u7EBF_u7A0B_u6253_u53701-52_uFF0C_u53E6_u4E00_u4E2A_u7EBF_u7A0B_u6253_u5370A-Z_uFF0C_u6253_u5370_u987A_u5E8F_u662F12A34B56C_u20265152Z" class="headerlink" title="写2个线程，一个线程打印1-52，另一个线程打印A-Z，打印顺序是12A34B56C…5152Z"></a>写2个线程，一个线程打印1-52，另一个线程打印A-Z，打印顺序是12A34B56C…5152Z</h4><hr><hr>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://mrzhugit.github.io/2016/01/06/interview-subject/" data-id="cikzge5qr0006qgv27fyo17nj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA-面试/">JAVA,面试</a></li></ul>

    </footer>
  </div>
  
</article>




  
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA-面试/">JAVA,面试</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper-分布式锁服务/">zookeeper 分布式锁服务</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JAVA-面试/" style="font-size: 10px;">JAVA,面试</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/zookeeper-分布式锁服务/" style="font-size: 10px;">zookeeper 分布式锁服务</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/02/22/zookeeper-use/">zookeeper在项目中的使用</a>
          </li>
        
          <li>
            <a href="/2016/01/07/buy-house/">买房记录</a>
          </li>
        
          <li>
            <a href="/2016/01/06/interview-subject/">JAVA面试题解</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 mr.zhu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>